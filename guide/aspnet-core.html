<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png"><link rel="manifest" href="/manifest.webmanifest"><meta name="application-name" content="VuePress"><meta name="apple-mobile-web-app-title" content="VuePress"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png"><link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#3eaf7c"><meta name="msapplication-TileColor" content="#3eaf7c"><meta name="theme-color" content="#3eaf7c"><title>ASP.NET Core | Kentico Xperience 13 Community Style Guide</title><meta name="description" content="The result of observations that the Kentico Xperience community has on building applications with Xperience">
    <link rel="modulepreload" href="/kentico-xperience-13-style-guide/assets/app.d739b443.js"><link rel="modulepreload" href="/kentico-xperience-13-style-guide/assets/aspnet-core.html.2d72b6c8.js"><link rel="modulepreload" href="/kentico-xperience-13-style-guide/assets/aspnet-core.html.fce1679b.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/index.html.73bfc48d.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/index.html.bfa00757.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/caching.html.d2686bf6.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/content-modeling.html.0d7b306a.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/page-builder.html.88489c29.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/page-types.html.af1ed65a.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/platform-customization.html.e38a573e.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/project-setup-and-configuration.html.503596fd.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/querying.html.ce7590cd.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/rendering.html.a1feb89f.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/search.html.7fb8701a.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/404.html.7d858b3d.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/index.html.2ed2c80e.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/index.html.6c6f373c.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/caching.html.a0b64b42.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/content-modeling.html.6052c44a.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/page-builder.html.1e18d87e.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/page-types.html.f7d4ce74.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/platform-customization.html.169ddf6b.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/project-setup-and-configuration.html.e1ca0615.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/querying.html.bd01808a.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/rendering.html.8f344a80.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/search.html.e3ee1901.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/404.html.7862a43c.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/404.a4f06029.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/Layout.d07669d2.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/AvoidIcon.279cd514.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/ConsiderIcon.0264154f.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/EssentialIcon.b8b6fa1e.js"><link rel="prefetch" href="/kentico-xperience-13-style-guide/assets/NoteIcon.1d7a1072.js">
    <link rel="stylesheet" href="/kentico-xperience-13-style-guide/assets/style.4ea00505.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/kentico-xperience-13-style-guide/" class=""><img class="logo" src="/kentico-xperience-13-style-guide/images/kx-logo-by-kentico-hor-color-pos-sz-rgb.png" alt="Kentico Xperience 13 Community Style Guide"><span class="site-name can-hide">Kentico Xperience 13 Community Style Guide</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/kentico-xperience-13-style-guide/guide/" class="router-link-active" aria-label="Guide"><!--[--><!--]--> Guide <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://devnet.kentico.com/" rel="noopener noreferrer" target="_blank" aria-label="DevNet"><!--[--><!--]--> DevNet <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/Kentico/Home/blob/master/RESOURCES.md" rel="noopener noreferrer" target="_blank" aria-label="Kentico Resources"><!--[--><!--]--> Kentico Resources <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/seangwright/kentico-xperience-13-style-guide" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/kentico-xperience-13-style-guide/guide/" class="router-link-active" aria-label="Guide"><!--[--><!--]--> Guide <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://devnet.kentico.com/" rel="noopener noreferrer" target="_blank" aria-label="DevNet"><!--[--><!--]--> DevNet <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/Kentico/Home/blob/master/RESOURCES.md" rel="noopener noreferrer" target="_blank" aria-label="Kentico Resources"><!--[--><!--]--> Kentico Resources <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/seangwright/kentico-xperience-13-style-guide" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">Guide <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/kentico-xperience-13-style-guide/guide/" class="router-link-active sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----></li><li><a href="/kentico-xperience-13-style-guide/guide/project-setup-and-configuration.html" class="sidebar-item" aria-label="Project Setup and Configuration"><!--[--><!--]--> Project Setup and Configuration <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/kentico-xperience-13-style-guide/guide/aspnet-core.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="ASP.NET Core"><!--[--><!--]--> ASP.NET Core <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/kentico-xperience-13-style-guide/guide/aspnet-core.html#settings" class="router-link-active router-link-exact-active sidebar-item" aria-label="Settings"><!--[--><!--]--> Settings <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/kentico-xperience-13-style-guide/guide/aspnet-core.html#store-environment-specific-configuration-in-appsettings-json" class="router-link-active router-link-exact-active sidebar-item" aria-label="Store Environment-Specific Configuration in appsettings.json"><!--[--><!--]--> Store Environment-Specific Configuration in appsettings.json <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/kentico-xperience-13-style-guide/guide/aspnet-core.html#store-runtime-or-site-specific-configuration-in-cms-settings" class="router-link-active router-link-exact-active sidebar-item" aria-label="Store Runtime or Site-Specific Configuration in CMS Settings"><!--[--><!--]--> Store Runtime or Site-Specific Configuration in CMS Settings <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/kentico-xperience-13-style-guide/guide/aspnet-core.html#app-setup" class="router-link-active router-link-exact-active sidebar-item" aria-label="App Setup"><!--[--><!--]--> App Setup <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/kentico-xperience-13-style-guide/guide/aspnet-core.html#fluent-builder-apis-for-di-and-middleware-registration" class="router-link-active router-link-exact-active sidebar-item" aria-label="Fluent Builder APIs for DI and Middleware Registration"><!--[--><!--]--> Fluent Builder APIs for DI and Middleware Registration <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/kentico-xperience-13-style-guide/guide/aspnet-core.html#group-extensions-based-on-sub-system" class="router-link-active router-link-exact-active sidebar-item" aria-label="Group Extensions Based on Sub-System"><!--[--><!--]--> Group Extensions Based on Sub-System <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/kentico-xperience-13-style-guide/guide/aspnet-core.html#use-reflection-vs-manual-di-registration" class="router-link-active router-link-exact-active sidebar-item" aria-label="Use Reflection vs Manual DI Registration"><!--[--><!--]--> Use Reflection vs Manual DI Registration <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/kentico-xperience-13-style-guide/guide/content-modeling.html" class="sidebar-item" aria-label="Content Modeling"><!--[--><!--]--> Content Modeling <!--[--><!--]--></a><!----></li><li><a href="/kentico-xperience-13-style-guide/guide/page-types.html" class="sidebar-item" aria-label="Page Types"><!--[--><!--]--> Page Types <!--[--><!--]--></a><!----></li><li><a href="/kentico-xperience-13-style-guide/guide/page-builder.html" class="sidebar-item" aria-label="Page Builder"><!--[--><!--]--> Page Builder <!--[--><!--]--></a><!----></li><li><a href="/kentico-xperience-13-style-guide/guide/querying.html" class="sidebar-item" aria-label="Data Querying"><!--[--><!--]--> Data Querying <!--[--><!--]--></a><!----></li><li><a href="/kentico-xperience-13-style-guide/guide/rendering.html" class="sidebar-item" aria-label="Rendering"><!--[--><!--]--> Rendering <!--[--><!--]--></a><!----></li><li><a href="/kentico-xperience-13-style-guide/guide/platform-customization.html" class="sidebar-item" aria-label="Platform Customization"><!--[--><!--]--> Platform Customization <!--[--><!--]--></a><!----></li><li><a href="/kentico-xperience-13-style-guide/guide/search.html" class="sidebar-item" aria-label="Search"><!--[--><!--]--> Search <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="asp-net-core" tabindex="-1"><a class="header-anchor" href="#asp-net-core" aria-hidden="true">#</a> ASP.NET Core</h1><h2 id="settings" tabindex="-1"><a class="header-anchor" href="#settings" aria-hidden="true">#</a> Settings</h2><h3 id="store-environment-specific-configuration-in-appsettings-json" tabindex="-1"><a class="header-anchor" href="#store-environment-specific-configuration-in-appsettings-json" aria-hidden="true">#</a> <svg xmlns="http://www.w3.org/2000/svg" class="question-icon" fill="none" viewbox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Store Environment-Specific Configuration in appsettings.json</h3><ul><li>Use <code>appsettings.json</code> to store configuration that is environment specific</li><li>Structure configuration hierarchically using JSON</li><li>Provide intelligent defaults when reading in configuration in the ASP.NET Core application</li></ul><p><strong>Why?</strong></p><p>Test and Production aren&#39;t the only environments that developers need to consider. &quot;Local&quot; is likely the environment where developers need the most control over configuration and <a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-6.0&amp;tabs=windows" target="_blank" rel="noopener noreferrer">user secrets<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> allows for easy customization that is scoped to each developer&#39;s individual workspace.</p><p><strong>Why?</strong></p><p>Values deployed to the application file system in production are more secure than <a href="https://docs.xperience.io/custom-development/creating-custom-modules/adding-custom-website-settings" target="_blank" rel="noopener noreferrer">custom CMS Settings<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> which can be read and updated by an administrator. If configuration needs to be more secure and does not need to be edited while the application is running, <code>appsettings.json</code> is a better source of values than CMS Settings.</p><p><strong>Why?</strong></p><p>All <a href="https://youtu.be/scEDHsr3APg" target="_blank" rel="noopener noreferrer">CI/CD<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> systems have a way to populate configuration files with environment-specific or security-sensitive values <em>after</em> an application build has completed but <em>before</em> the build artifact is deployed to an environment. These values (ex: database connection strings, API keys) are stored with their own security settings to ensure they cannot be read or updated without specific permissions.</p><h3 id="store-runtime-or-site-specific-configuration-in-cms-settings" tabindex="-1"><a class="header-anchor" href="#store-runtime-or-site-specific-configuration-in-cms-settings" aria-hidden="true">#</a> <svg xmlns="http://www.w3.org/2000/svg" class="question-icon" fill="none" viewbox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Store Runtime or Site-Specific Configuration in CMS Settings</h3><ul><li>Create <a href="https://docs.xperience.io/custom-development/creating-custom-modules/adding-custom-website-settings" target="_blank" rel="noopener noreferrer">custom CMS Settings<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Manage these settings per-environment</li><li>Ensure changes to the settings are not accidentally synced to another environment <a href="https://docs.xperience.io/deploying-websites/content-staging" target="_blank" rel="noopener noreferrer">using Content Staging<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><p><strong>Why?</strong></p><p>Kentico Xperience has existing APIs and administration UI for managing configuration that is both global and site specific. To re-build this functionality in the ASP.NET Core <code>appsettings.json</code> configuration is often unnecessary.</p><p><strong>Why?</strong></p><p>Some configuration needs to be editable at runtime. Typically, configuration found in <code>appsettings.json</code> files is not accessible to site administrators and could require an application restart for the application to read updated values.</p><p>CMS Settings are accessible by the application as soon as they are updated, making them useful for values that need to be changed as need arises without require a deployment or access to the hosting environment.</p><h2 id="app-setup" tabindex="-1"><a class="header-anchor" href="#app-setup" aria-hidden="true">#</a> App Setup</h2><h3 id="fluent-builder-apis-for-di-and-middleware-registration" tabindex="-1"><a class="header-anchor" href="#fluent-builder-apis-for-di-and-middleware-registration" aria-hidden="true">#</a> <svg xmlns="http://www.w3.org/2000/svg" class="essential-icon" fill="none" viewbox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Fluent Builder APIs for DI and Middleware Registration</h3><ul><li>Create extension methods to abstract application setup out of <code>Startup.cs</code> or <code>Program.cs</code></li><li>Use a <a href="https://medium.com/@martinstm/fluent-builder-pattern-c-4ac39fafcb0b" target="_blank" rel="noopener noreferrer">fluent builder API pattern<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to keep setup readable</li><li>Add helper extension methods to make non-fluent setup APIs chainable</li></ul><p><strong>Why?</strong></p><p>Application setup code is often very declarative without much conditional logic and it describes what the application uses and what it does, rather than how it does it. To make setup code more readable, a fluent builder API can remove unnecessary syntax and read more like a table of contents than C# code.</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">class</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">Startup</span></span>
<span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">void</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">ConfigureServices</span><span style="color:#D4D4D4;">(</span><span style="color:#4EC9B0;">IServiceCollection</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">services</span><span style="color:#D4D4D4;">) =&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">services</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">AddAppXperience</span><span style="color:#D4D4D4;">()</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">AddAppMembership</span><span style="color:#D4D4D4;">()</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">AddAppMVC</span><span style="color:#D4D4D4;">()</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">AddAppCore</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">Environment</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">Config</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>It&#39;s very clear, from a high level, what the major areas of functionality are of this application, and these extension methods can be made more or less high level depending on the application&#39;s complexity.</p><p><strong>Why?</strong></p><p>The same pattern can be followed for defining the ASP.NET Core middleware pipeline, which is already a very declarative section of the application:</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">class</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">Startup</span></span>
<span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">void</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">Configure</span><span style="color:#D4D4D4;">(</span><span style="color:#4EC9B0;">IApplicationBuilder</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">app</span><span style="color:#D4D4D4;">) =&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">app</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">IfDevelopment</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">Environment</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">a</span><span style="color:#D4D4D4;"> =&gt; </span><span style="color:#9CDCFE;">a</span></span>
<span class="line"><span style="color:#D4D4D4;">                .</span><span style="color:#DCDCAA;">UseDeveloperExceptionPage</span><span style="color:#D4D4D4;">())</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">IfNotDevelopment</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">Environment</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">a</span><span style="color:#D4D4D4;"> =&gt; </span><span style="color:#9CDCFE;">a</span></span>
<span class="line"><span style="color:#D4D4D4;">                .</span><span style="color:#DCDCAA;">UseExceptionHandler</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">new</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">ExceptionHandlerOptions</span></span>
<span class="line"><span style="color:#D4D4D4;">                {</span></span>
<span class="line"><span style="color:#D4D4D4;">                    </span><span style="color:#9CDCFE;">AllowStatusCode404Response</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">true</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                    </span><span style="color:#9CDCFE;">ExceptionHandlingPath</span><span style="color:#D4D4D4;"> = </span><span style="color:#CE9178;">&quot;/error&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">                })</span></span>
<span class="line"><span style="color:#D4D4D4;">            )</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">UseHttpsRedirection</span><span style="color:#D4D4D4;">()</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">UseStaticFiles</span><span style="color:#D4D4D4;">()</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">UseStatusCodePagesWithReExecute</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&quot;/not-found&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&quot;?code={0}&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">IfDevelopment</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">Environment</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">a</span><span style="color:#D4D4D4;"> =&gt; </span><span style="color:#9CDCFE;">a</span></span>
<span class="line"><span style="color:#D4D4D4;">                .</span><span style="color:#DCDCAA;">UseSwagger</span><span style="color:#D4D4D4;">()</span></span>
<span class="line"><span style="color:#D4D4D4;">                .</span><span style="color:#DCDCAA;">UseSwaggerUI</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">c</span><span style="color:#D4D4D4;"> =&gt; </span><span style="color:#9CDCFE;">c</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">SwaggerEndpoint</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&quot;/swagger/v1/swagger.json&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&quot;v1&quot;</span><span style="color:#D4D4D4;">)))</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">UseKentico</span><span style="color:#D4D4D4;">()</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">UseAuthentication</span><span style="color:#D4D4D4;">()</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">UseEndpoints</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">endpoints</span><span style="color:#D4D4D4;"> =&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">            {</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">endpoints</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Kentico</span><span style="color:#D4D4D4;">().</span><span style="color:#DCDCAA;">MapRoutes</span><span style="color:#D4D4D4;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">_</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">endpoints</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">MapControllers</span><span style="color:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#D4D4D4;">            });</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Why?</strong></p><p>Each extension method can then call additional extension methods. Since application setup is not stateful and lacks logic, there&#39;s no harm in using <code>static</code> extension methods and avoiding intermediate variables.</p><p><strong>Why?</strong></p><p>An organized, high-level <code>Startup.cs</code> will be easier to adapt to the new <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/startup?view=aspnetcore-6.0" target="_blank" rel="noopener noreferrer">ASP.NET Core minimal startup<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="custom-container tip"><p class="custom-container-title">Maintaining Startup.cs</p><p>To learn more about how to organize and maintain a <code>Startup.cs</code> file, read <a href="https://dev.to/seangwright/kentico-xperience-design-patterns-good-startup-cs-hygiene-3klm" target="_blank" rel="noopener noreferrer">Kentico Xperience Design Patterns: Good Startup.cs Hygiene<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h3 id="group-extensions-based-on-sub-system" tabindex="-1"><a class="header-anchor" href="#group-extensions-based-on-sub-system" aria-hidden="true">#</a> <svg xmlns="http://www.w3.org/2000/svg" class="question-icon" fill="none" viewbox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Group Extensions Based on Sub-System</h3><ul><li>Create separate static configuration classes for each area of functionality in an application</li><li>Create separate static <code>IServiceCollection</code> extension methods in those classes for each group of dependencies within a feature</li></ul><p><strong>Why?</strong></p><p>These extensions tell a story about what features and dependencies your app has. With these extension classes and methods, looking at <code>Startup.cs</code> will quickly show what kinds of things an application does.</p><p>Examples:</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">static</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">class</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">ECommerceConfiguration</span></span>
<span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">static</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">IServiceCollection</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">AddEcommerce</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">IServiceCollection</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">services</span><span style="color:#D4D4D4;">) =&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">services</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">AddStripe</span><span style="color:#D4D4D4;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">private</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">static</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">IServiceCollection</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">AddStripe</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">IServiceCollection</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">services</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">    {</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#6A9955;">// ...</span></span>
<span class="line"><span style="color:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">static</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">class</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">ApplicationConfiguration</span></span>
<span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">static</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">IServiceCollection</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">AddApplicationCore</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">IServiceCollection</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">services</span><span style="color:#D4D4D4;">) =&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">services</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">AddXMLSitemaps</span><span style="color:#D4D4D4;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">private</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">static</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">IServiceCollection</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">AddXMLSitemaps</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">IServiceCollection</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">services</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">    {</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#6A9955;">// ...</span></span>
<span class="line"><span style="color:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">static</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">class</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">IntegrationConfiguration</span></span>
<span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">static</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">IServiceCollection</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">AddLegacyIntegration</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">IServiceCollection</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">services</span><span style="color:#D4D4D4;">) =&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">services</span></span>
<span class="line"><span style="color:#D4D4D4;">            .</span><span style="color:#DCDCAA;">AddActiveDirectory</span><span style="color:#D4D4D4;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">static</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">IServiceCollection</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">AddActiveDirectory</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">IServiceCollection</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">services</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">    {</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#6A9955;">// ...</span></span>
<span class="line"><span style="color:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="use-reflection-vs-manual-di-registration" tabindex="-1"><a class="header-anchor" href="#use-reflection-vs-manual-di-registration" aria-hidden="true">#</a> <svg xmlns="http://www.w3.org/2000/svg" class="essential-icon" fill="none" viewbox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Use Reflection vs Manual DI Registration</h3><ul><li>Use reflection for registering types with many implementations</li><li>Use a library like <a href="https://github.com/khellang/Scrutor" target="_blank" rel="noopener noreferrer">Scrutor<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for more powerful DI registration</li></ul><p><strong>Why?</strong></p><p>One of the benefits of a DI conatiner is its ability to construct types for you through its access to all constructable types in an application. To fully take advantage of Dependency Injection</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/seangwright/kentico-xperience-13-style-guide/edit/main/docs/guide/aspnet-core.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub"><!--[--><!--]--> Edit this page on GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: sean@wiredviews.com">Sean Wright</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: sean@wiredviews.com">Seany Wright</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: sean@seangwright.me">Sean Wright</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/kentico-xperience-13-style-guide/guide/project-setup-and-configuration.html" class="" aria-label="Project Setup and Configuration"><!--[--><!--]--> Project Setup and Configuration <!--[--><!--]--></a></span><span class="next"><a href="/kentico-xperience-13-style-guide/guide/content-modeling.html" class="" aria-label="Content Modeling"><!--[--><!--]--> Content Modeling <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/kentico-xperience-13-style-guide/assets/app.d739b443.js" defer></script>
  </body>
</html>
